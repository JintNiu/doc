## 限定

![](https://static001.geekbang.org/resource/image/76/78/76b9d54368bc10535567e5c565983678.jpg?wh=2705x2556)

之前，员工和工作经验之间有一个一对多关联。现在，在员工那一端加了一个小方框，里面写了“: 时间段”，而另一端的多重性，由原来的“0..*”神奇地变成了“0..1”。

一个员工可以有多条工作经验，但限定在一个时间段的话，那么最多就只能有一条工作经验了。

“限定”在模型里的表示方法是用一个小方框，里面写上被限定的属性，然后放到关联里表示“1”的那一端。之后，原来的一对多，在形式上一般就可以变成一对一了。这里增加的小方框叫做“限定符”。

  + 在数据库实现中，对应组成（复合）唯一索引的某一个列；
  + 在代码实现中，对应Map的键
  + 那么由上面两条结论可以有如下推论：数据库的唯一索引对应代码中的Map
  + 这个属性是非聚合根的局部标识
限定将一对多形式上转换成一对一，在代码里实际上就是把“多”放入Map中，让聚合根和代表这个Map属性“一对一”（Map里的键和值一对一）
